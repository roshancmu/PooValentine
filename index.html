<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Will you be my Valentine?</title>
  <style>
    :root{
      --bg:#f6c8d4;
      --card:#f7f2f3;
      --text:#1c1c1c;
      --muted:#666;
      --yes:#e94b78;
      --yesHover:#d83e6a;
      --no:#e6e6e6;
      --shadow: 0 18px 50px rgba(0,0,0,.15);
      --radius: 18px;
      --font: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
    }

    *{ box-sizing:border-box; }
    html,body{ height:100%; margin:0; font-family:var(--font); color:var(--text); }

    body{
      background: radial-gradient(1200px 800px at 30% 20%, #ffd9e3 0%, var(--bg) 55%, #f2b7c8 100%);
      display:flex;
      align-items:center;
      justify-content:center;
      padding:24px;
    }

    .wrap{
      width:min(880px, 92vw);
      min-height: min(520px, 92vh);
      display:flex;
      align-items:center;
      justify-content:center;
      position:relative;
    }

    .card{
      width:min(720px, 92vw);
      background:rgba(247,242,243,.92);
      border:1px solid rgba(255,255,255,.7);
      border-radius: 22px;
      box-shadow: var(--shadow);
      padding:42px 26px 26px;
      text-align:center;
      position:relative;
      overflow:hidden;
      backdrop-filter: blur(6px);
    }

    h1{
      margin: 6px 0 18px;
      font-size: clamp(26px, 3.2vw, 44px);
      font-weight: 800;
      letter-spacing: -.02em;
    }

    .controls{
      position:relative;
      width:min(460px, 90%);
      height:84px;
      margin: 0 auto 10px;
      display:flex;
      align-items:center;
      justify-content:center;
      gap: 26px;
      user-select:none;
    }

    .btn{
      border:0;
      padding: 12px 22px;
      border-radius: 999px;
      font-weight: 800;
      font-size: 16px;
      cursor:pointer;
      transition: transform .12s ease, background .12s ease, box-shadow .12s ease;
      box-shadow: 0 8px 18px rgba(0,0,0,.10);
    }

    .btn:active{ transform: translateY(1px) scale(.99); }

    .btn-yes{
      background: var(--yes);
      color:white;
      position:absolute;
      left: 40px;
      top:50%;
      transform: translateY(-50%);
      transform-origin: center;
    }
    .btn-yes:hover{ background: var(--yesHover); }

    .btn-no{
      background: var(--no);
      color:#333;
      position:absolute;
      right: 40px;
      top: 50%;
      transform: translateY(-50%);
      box-shadow: 0 10px 18px rgba(0,0,0,.10);
    }

    .hint{
      margin: 10px 0 0;
      color: var(--muted);
      font-size: 13px;
    }

    /* Success screen */
    .success{
      display:none;
      padding-top: 8px;
    }
    .success h2{
      margin: 10px 0 10px;
      font-size: clamp(28px, 4vw, 46px);
      letter-spacing:-.02em;
    }

    .imgwrap{
      width:min(520px, 92%);
      margin: 12px auto 0;
      border-radius: 18px;
      overflow:hidden;
      border: 1px solid rgba(0,0,0,.08);
      box-shadow: 0 18px 38px rgba(0,0,0,.14);
      background:white;
    }
    .imgwrap img{
      width:100%;
      height:auto;
      display:block;
    }

    /* Make personal photo look good */
    #personalImg{
      aspect-ratio: 4/3;
      object-fit: cover;
    }

    /* Confetti canvas */
    canvas#confetti{
      position:absolute;
      inset:0;
      pointer-events:none;
      z-index: 10;
      display:none;
    }

    @media (max-width: 520px){
      .controls{ width: 100%; }
      .btn-yes{ left: 18px; }
      .btn-no{ right: 18px; }
    }
  </style>
</head>

<body>
  <div class="wrap">
    <canvas id="confetti"></canvas>

    <div class="card" id="card">
      <!-- Removed the little cat/badge completely -->

      <div id="ask">
        <h1><span id="nameSlot">Punam</span> will you be my valentine?</h1>

        <div class="controls" id="controls">
          <button class="btn btn-yes" id="yesBtn">Yes</button>
          <button class="btn btn-no" id="noBtn">No</button>
        </div>

        <div class="hint" id="hint">‚ÄúNo‚Äù seems a bit shy üòà</div>
      </div>

      <div class="success" id="success">
        <h1><span id="nameSlot2">Punam</span> will you be my valentine?</h1>
        <h2>YAY! üéâ</h2>

        <!-- Your personal photo shown after clicking Yes -->
        <div class="imgwrap">
          <img id="personalImg" alt="My photo" />
        </div>

        <!-- Optional: keep a celebration GIF below (can remove if you want) -->
        <div class="imgwrap" style="margin-top:14px;">
          <img id="successGif" alt="Celebration GIF" />
        </div>

        <div class="hint" style="margin-top:14px;">Best answer. üòÑ</div>
      </div>
    </div>
  </div>

  <script>
    // ---------- CONFIG ----------
    const NAME = "Punam"; // change name
    // Put your image in the same folder as index.html in your GitHub Pages repo:
    // Example: myphoto.jpg  OR assets/myphoto.jpg
    const PERSONAL_IMAGE_URL = "personalImg.jpeg";

    // Optional GIF (you can delete this feature by setting to "" and removing the block)
    const SUCCESS_GIF_URL = "https://media.giphy.com/media/3oriO0OEd9QIDdllqo/giphy.gif";

    const MOVE_ON_HOVER = true;         // desktop hover dodge
    const MOVE_ON_POINTERDOWN = true;   // mobile tap dodge
    const YES_GROWTH_PER_NO = 0.08;     // 8% per dodge
    const YES_MAX_SCALE = 2.2;

    // ---------- ELEMENTS ----------
    const nameSlot   = document.getElementById("nameSlot");
    const nameSlot2  = document.getElementById("nameSlot2");
    const controls   = document.getElementById("controls");
    const noBtn      = document.getElementById("noBtn");
    const yesBtn     = document.getElementById("yesBtn");
    const ask        = document.getElementById("ask");
    const success    = document.getElementById("success");
    const personalImg= document.getElementById("personalImg");
    const successGif = document.getElementById("successGif");
    const hint       = document.getElementById("hint");

    nameSlot.textContent  = NAME;
    nameSlot2.textContent = NAME;

    personalImg.src = PERSONAL_IMAGE_URL;

    if (SUCCESS_GIF_URL && successGif) {
      successGif.src = SUCCESS_GIF_URL;
    }

    // ---------- STATE ----------
    let noCount = 0;
    let yesScale = 1;

    function overlaps(ax, ay, aw, ah, bx, by, bw, bh){
      const pad = 10;
      return !(
        ax + aw < bx - pad ||
        ax > bx + bw + pad ||
        ay + ah < by - pad ||
        ay > by + bh + pad
      );
    }

    function moveNoButton() {
      const rect = controls.getBoundingClientRect();
      const btnRect = noBtn.getBoundingClientRect();

      const padding = 8;
      const maxX = rect.width - btnRect.width - padding;
      const maxY = rect.height - btnRect.height - padding;

      const yesRect = yesBtn.getBoundingClientRect();
      const yesLocal = {
        x: yesRect.left - rect.left,
        y: yesRect.top  - rect.top,
        w: yesRect.width,
        h: yesRect.height
      };

      let x, y, tries = 0;
      do {
        x = padding + Math.random() * (maxX - padding);
        y = padding + Math.random() * (maxY - padding);
        tries++;
        if (tries > 25) break;
      } while (overlaps(x, y, btnRect.width, btnRect.height, yesLocal.x, yesLocal.y, yesLocal.w, yesLocal.h));

      noBtn.style.left = `${x}px`;
      noBtn.style.top  = `${y}px`;
      noBtn.style.right = "auto";
      noBtn.style.transform = "translate(0,0)";
    }

    function growYes() {
      noCount++;
      yesScale = Math.min(YES_MAX_SCALE, 1 + noCount * YES_GROWTH_PER_NO);
      yesBtn.style.transform = `translateY(-50%) scale(${yesScale})`;

      if (noCount >= 3) hint.textContent = "Come on‚Ä¶ you know you want to click Yes üòå";
      if (noCount >= 6) hint.textContent = "No button is in full escape mode üèÉ‚Äç‚ôÇÔ∏èüí®";
      if (noCount >= 9) hint.textContent = "At this point, it‚Äôs basically Yes ü§ù";
    }

    // ---------- EVENTS ----------
    if (MOVE_ON_HOVER) {
      noBtn.addEventListener("mouseenter", () => {
        moveNoButton();
        growYes();
      });
    }

    if (MOVE_ON_POINTERDOWN) {
      noBtn.addEventListener("pointerdown", (e) => {
        e.preventDefault();
        moveNoButton();
        growYes();
      });
    }

    noBtn.addEventListener("click", (e) => {
      e.preventDefault();
      moveNoButton();
      growYes();
    });

    yesBtn.addEventListener("click", () => {
      ask.style.display = "none";
      success.style.display = "block";
      startConfetti();
    });

    // ---------- CONFETTI ----------
    const canvas = document.getElementById("confetti");
    const ctx = canvas.getContext("2d");

    let confetti = [];
    let rafId = null;
    let running = false;

    function resizeCanvas(){
      const cardRect = document.getElementById("card").getBoundingClientRect();
      canvas.width = Math.floor(cardRect.width);
      canvas.height = Math.floor(cardRect.height);
    }

    function makePiece(){
      const colors = ["#e94b78","#ffcc66","#66d1ff","#7cf0b8","#b892ff","#ff8fb1"];
      return {
        x: Math.random() * canvas.width,
        y: Math.random() * canvas.height,
        vx: -1.2 + Math.random() * 2.4,
        vy: 0.2 + Math.random() * 1.2,
        w: 6 + Math.random() * 8,
        h: 8 + Math.random() * 14,
        rot: Math.random() * Math.PI,
        vr: -0.12 + Math.random() * 0.24,
        c: colors[(Math.random()*colors.length)|0]
      };
    }

    function startConfetti(){
      canvas.style.display = "block";
      resizeCanvas();

      confetti = Array.from({length: 180}, () => makePiece());
      running = true;

      const tick = () => {
        if (!running) return;
        ctx.clearRect(0,0,canvas.width,canvas.height);
        for (const p of confetti){
          p.vy += 0.03;
          p.x  += p.vx;
          p.y  += p.vy;
          p.rot += p.vr;

          if (p.y > canvas.height + 20){
            p.y = -10;
            p.x = Math.random() * canvas.width;
            p.vy = 0.2 + Math.random() * 1.2;
          }

          ctx.save();
          ctx.translate(p.x, p.y);
          ctx.rotate(p.rot);
          ctx.fillStyle = p.c;
          ctx.fillRect(-p.w/2, -p.h/2, p.w, p.h);
          ctx.restore();
        }
        rafId = requestAnimationFrame(tick);
      };

      window.addEventListener("resize", resizeCanvas, {passive:true});
      tick();

      setTimeout(() => { stopConfetti(); }, 6000);
    }

    function stopConfetti(){
      running = false;
      if (rafId) cancelAnimationFrame(rafId);
      canvas.style.display = "none";
    }
  </script>
</body>
</html>
